# 生成合成数据

## 简单方式
合成数据的生成分为三个部分，（1）背景图生成，（2）目标物生成，（3）干扰物生成
* 背景图
    是指合成数据的背景素材
    ```
    def generate_background_image():
        for i in range(100):
            image = ...
            yield image
    ```
* 目标图
    是指关心目标物体图像
    ```
    def generate_obj_image():
        for i in range(100):
            obj_image = ...     # 目标图像，通过第四通道来过滤具体目标位置
            obj_mask = ...      # 分割任务下，指定目标分割图
            obj_joints = ...    # 关键点任务下，指定关键点坐标
            yield {
                'image': obj_image,
                'mask': obj_mask,
                'points': obj_joints,
                'fill': 0,      # 用于指定几何变换后的填充值
            }
    ```
* 干扰物
    可选项，是指关心目标物体周围的干扰物品
    ```
    def generate_disturb_image():
        while True:
            ...
            # obj_image 干扰物图像
            # obj_mask 干扰物mask
            # random 指定干扰物放置位置，支持 'random', 'center'
            yield obj_image, obj_mask, 'random'
    ```

合成数据生成方式，如下
```
for image, obj_info in simple_syn_sample(generate_background_image(), generate_obj_image(), generate_disturb_image(), min_scale=0.7, max_scale=0.9):
    # 完成数据保存等
```

## 基于SPORT-NERF框架生成
