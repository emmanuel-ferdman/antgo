{"version":3,"file":"js/598.85258d85.js","mappings":"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","sources":["webpack://antgo-web/./src/components/Demo.vue","webpack://antgo-web/src/components/Demo.vue","webpack://antgo-web/./src/components/Demo.vue?cc7c","webpack://antgo-web/./src/components/Demo.vue?dfd0"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-container',{staticStyle:{\"margin-top\":\"30px\",\"max-width\":\"80%\"}},[_c('b-row',[_c('b-jumbotron',{staticStyle:{\"width\":\"100%\"},attrs:{\"header\":_vm.title,\"lead\":_vm.description}})],1),_c('b-row',[_c('b-col',[_c('b-card',{staticClass:\"mt-6\",attrs:{\"header\":\"输入信息\"}},[_c('b-container',_vm._l((_vm.input_info),function(input,input_i){return _c('b-row',{key:input_i},[(input['type'] == 'image')?_c('b-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('h5',[_vm._v(_vm._s(input['name']))]),_c('b-form-file',{attrs:{\"state\":Boolean(input['status'] == 'finish'),\"placeholder\":\"拖拽文件至此...\",\"drop-placeholder\":\"Drop file here...\",\"accept\":\".jpg, .png, .jpeg\",\"browse-text\":\"打开\"},on:{\"input\":function($event){return _vm.uploadfile(input_i)}},model:{value:(input['value']),callback:function ($$v) {_vm.$set(input, 'value', $$v)},expression:\"input['value']\"}}),_c('div',{staticClass:\"mt-3\"},[_vm._v(\"上传文件: \"+_vm._s(input['status']=='finish' ? input['value'].name + ' 完成': ''))])],1):_vm._e(),(input['type'] == 'video')?_c('b-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('h5',[_vm._v(_vm._s(input['name']))]),_c('b-form-file',{attrs:{\"state\":Boolean(input['status'] == 'finish'),\"placeholder\":\"拖拽文件至此...\",\"drop-placeholder\":\"Drop file here...\",\"accept\":\".jpg, .png, .jpeg\",\"browse-text\":\"打开\"},on:{\"input\":function($event){return _vm.uploadfile(input_i)}},model:{value:(input['value']),callback:function ($$v) {_vm.$set(input, 'value', $$v)},expression:\"input['value']\"}}),_c('div',{staticClass:\"mt-3\"},[_vm._v(\"上传文件: \"+_vm._s(input['status']=='finish' ? input['value'].name + ' 完成' : ''))])],1):_vm._e(),(input['type'] == 'text')?_c('b-col',[_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":input['name']}},[_c('b-form-input',{model:{value:(input['value']),callback:function ($$v) {_vm.$set(input, 'value', $$v)},expression:\"input['value']\"}})],1)],1):_vm._e(),(input['type'] == 'slider')?_c('b-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('h5',[_vm._v(_vm._s(input['name'])+\" \"+_vm._s(input['value']))]),_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":input['min'],\"append\":input['max']}},[_c('b-form-input',{attrs:{\"type\":\"range\",\"min\":input['min'],\"max\":input['max']},model:{value:(input['value']),callback:function ($$v) {_vm.$set(input, 'value', $$v)},expression:\"input['value']\"}})],1)],1):_vm._e(),(input['type'] == 'checkbox')?_c('b-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('b-form-checkbox',{attrs:{\"value\":\"1\",\"unchecked-value\":\"0\"},model:{value:(input['value']),callback:function ($$v) {_vm.$set(input, 'value', $$v)},expression:\"input['value']\"}},[_vm._v(_vm._s(input['name']))])],1):_vm._e(),(input['type'] == 'select')?_c('b-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('h5',[_vm._v(_vm._s(input['name']))]),_c('b-form-select',{attrs:{\"options\":input['options']},model:{value:(input['value']),callback:function ($$v) {_vm.$set(input, 'value', $$v)},expression:\"input['value']\"}})],1):_vm._e()],1)}),1)],1)],1),_c('b-col',[_c('b-card',{staticClass:\"mt-6\",attrs:{\"header\":\"输出信息\"}},[(_vm.iserror)?_c('div',[_c('b-alert',{attrs:{\"show\":\"\"}},[_vm._v(_vm._s(_vm.error_message))])],1):(_vm.iswaiting)?_c('div',[_c('count-down')],1):_c('div',[_c('b-container',_vm._l((_vm.output_info),function(output,output_i){return _c('b-row',{key:output_i},[(output['type'] == 'image')?_c('b-col',[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"align-items\":\"center\"}},[_c('div',{staticStyle:{\"font-size\":\"large\",\"font-weight\":\"900\"}},[_vm._v(_vm._s(output['name']))]),_c('div',[(output['interactive'])?_c('div',{staticStyle:{\"width\":\"400px\",\"height\":\"400px\"},attrs:{\"id\":output['name']}}):_c('b-img',{staticStyle:{\"max-width\":\"512px\"},attrs:{\"src\":output['value'],\"id\":output['name']}})],1)])]):_vm._e(),(output['type'] == 'text')?_c('b-col',[_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":output['name']}},[_c('b-form-input',{attrs:{\"disabled\":\"\"},model:{value:(output['value']),callback:function ($$v) {_vm.$set(output, 'value', $$v)},expression:\"output['value']\"}})],1)],1):_vm._e(),(output['type'] == 'number')?_c('b-col',[_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":output['name']}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"disabled\":\"\"},model:{value:(output['value']),callback:function ($$v) {_vm.$set(output, 'value', $$v)},expression:\"output['value']\"}})],1)],1):_vm._e()],1)}),1)],1)])],1)],1),_c('b-row',{staticStyle:{\"margin-top\":\"50px\"}},[_c('b-button',{staticStyle:{\"width\":\"100px\"},attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"提交\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <b-container style=\"margin-top: 30px; max-width: 80%;\">\n\t<b-row>\n\t\t<b-jumbotron :header=\"title\" :lead=\"description\" style=\"width: 100%;\">\n\t\t</b-jumbotron>\t\t\n\t</b-row>\n\n    <b-row>\n        <!-- left is about input content -->\n        <b-col>\n            <b-card class=\"mt-6\" header=\"输入信息\">\n            <b-container>\n                <b-row v-for=\"(input, input_i) in input_info\" :key=\"input_i\" >\n                    <b-col v-if=\"input['type'] == 'image'\" style=\"margin-top: 20px\">\n                    <h5>{{input['name']}}</h5>\n                    <b-form-file\n                        v-model=\"input['value']\"\n                        :state=\"Boolean(input['status'] == 'finish')\"\n                        placeholder=\"拖拽文件至此...\"\n                        drop-placeholder=\"Drop file here...\"\n                        accept=\".jpg, .png, .jpeg\"\n                        browse-text=\"打开\"\n                        @input=\"uploadfile(input_i)\"></b-form-file>\n                    <div class=\"mt-3\">上传文件: {{ input['status']=='finish' ? input['value'].name + ' 完成': '' }}</div>\n                    </b-col>\n\n                    <b-col v-if=\"input['type'] == 'video'\" style=\"margin-top: 20px\">\n                    <h5>{{input['name']}}</h5>\n                    <b-form-file\n                        v-model=\"input['value']\"\n                        :state=\"Boolean(input['status'] == 'finish')\"\n                        placeholder=\"拖拽文件至此...\"\n                        drop-placeholder=\"Drop file here...\"\n                        accept=\".jpg, .png, .jpeg\"\n                        browse-text=\"打开\"\n                        @input=\"uploadfile(input_i)\"></b-form-file>\n                    <div class=\"mt-3\">上传文件: {{ input['status']=='finish' ? input['value'].name + ' 完成' : '' }}</div>\n\n                    </b-col>\n                    <b-col v-if=\"input['type'] == 'text'\">\n                    <b-input-group :prepend=\"input['name']\" class=\"mt-3\">\n                        <b-form-input v-model=\"input['value']\"></b-form-input>\n                    </b-input-group>\n                    </b-col>\n                    <b-col v-if=\"input['type'] == 'slider'\" style=\"margin-top: 20px\">\n                    <h5>{{input['name']}} {{input['value']}}</h5>\n                    <b-input-group :prepend=\"input['min']\" :append=\"input['max']\" class=\"mt-3\">\n                        <b-form-input type=\"range\" v-model=\"input['value']\" :min=\"input['min']\" :max=\"input['max']\"></b-form-input>\n                    </b-input-group>\n                    </b-col>\n                    <b-col v-if=\"input['type'] == 'checkbox'\" style=\"margin-top: 20px\">\n                    <b-form-checkbox v-model=\"input['value']\" value=1 unchecked-value=0>{{input['name']}}</b-form-checkbox>  \n                    </b-col>\n                    <b-col v-if=\"input['type'] == 'select'\" style=\"margin-top: 20px\">\n                    <h5>{{input['name']}}</h5>\n                    <b-form-select v-model=\"input['value']\" :options=\"input['options']\"></b-form-select>\n                    </b-col>\n                </b-row>\n            </b-container>\n            </b-card>\n        </b-col>\n\n        <!-- right is about output content -->\n        <b-col>\n            <b-card class=\"mt-6\" header=\"输出信息\">\n\t\t\t\t<div v-if=\"iserror\">\n\t\t\t\t\t<b-alert show>{{ error_message }}</b-alert>\n\t\t\t\t</div>\n\t\t\t\t<div v-else-if=\"iswaiting\">\n\t\t\t\t\t<count-down></count-down>\n\t\t\t\t</div>\n\t\t\t\t<div v-else>\n\t\t\t\t\t<b-container>\n\t\t\t\t\t<b-row v-for=\"(output, output_i) in output_info\" :key=\"output_i\">\n\t\t\t\t\t\t<b-col v-if=\"output['type'] == 'image'\">\n\t\t\t\t\t\t\t<div style=\"display: flex; flex-direction: column; align-items: center;\">\n\t\t\t\t\t\t\t\t<div style=\"font-size: large; font-weight: 900;\">{{ output['name'] }}</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div v-if=\"output['interactive']\" :id=\"output['name']\" style=\"width: 400px; height:400px\"></div>\n\t\t\t\t\t\t\t\t\t<b-img v-else :src=\"output['value']\" :id=\"output['name']\" style=\"max-width: 512px;\"></b-img>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\n\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t<b-col v-if=\"output['type'] == 'text'\">\n\t\t\t\t\t\t\t<b-input-group :prepend=\"output['name']\" class=\"mt-3\">\n\t\t\t\t\t\t\t\t<b-form-input v-model=\"output['value']\" disabled></b-form-input>\n\t\t\t\t\t\t\t</b-input-group>      \n\t\t\t\t\t\t</b-col>\n\t\t\t\t\t\t<b-col v-if=\"output['type'] == 'number'\">\n\t\t\t\t\t\t\t<b-input-group :prepend=\"output['name']\" class=\"mt-3\">\n\t\t\t\t\t\t\t\t<b-form-input type=\"number\" v-model=\"output['value']\" disabled></b-form-input>\n\t\t\t\t\t\t\t</b-input-group>                          \n\t\t\t\t\t\t</b-col>\n\t\t\t\t\t</b-row>\n\t\t\t\t</b-container>\t\t\n\t\t\t\t</div>\n\n\t\t\t</b-card>\n        </b-col>\n    </b-row>\n    <b-row style=\"margin-top: 50px\">\n        <b-button  variant=\"primary\" style=\"width:100px\" @click=\"submit()\">提交</b-button>\n    </b-row>\n    </b-container>\n</template>\n\n<script>\nimport AILabel from \"ailabel\";\nexport default{\n    name: 'Demo',\n    data(){\n        return {\n\t\t\ttitle: '',\n\t\t\tdescription: '',\n            input_info: [\n                // {\n                //     'type': 'text', // text, number, image, video, \n                //     'name': 'hello',\n                //     'value': 'w'\n                // },\n                // {\n                //     'type': 'image',\n                //     'name': '111',\n                //     'value': '',\n                //     'status': 'default', // default, uploading, finish\n                // },\n                // {\n                //     'type': 'video',        \n                //     'name': '222',\n                //     'value': '',            \n                //     'status': 'defalut'\n                // },\n                // {\n                //     'type': 'slider',\n                //     'name': 'hello',\n                //     'value': 5,\n                //     'min': 1,\n                //     'max': 10,\n                // },\n                // {\n                //     'type': 'checkbox',\n                //     'name': 'world',\n                //     'value': 1,\n                // },\n                // {\n                //     'type': 'select',\n                //     'name': 'yyy',\n                //     'value': 'B',\n                //     'options': [{'value': 'A', 'text': 'xxx'}, {'value': 'B', 'text': 'yyyy'}]\n                // }\n            ],\n            output_info: [\n                // {\n                //     'type': 'text', // text, number, image, video, file\n                //     'name': 'hh',\n                //     'value': 'bb'\n                // },\n                // {\n                //     'type': 'number',\n                //     'name': 'world',\n                //     'value': 0\n                // },\n                // {\n                //     'type': 'image',\n                //     'name': '/static/1.png',\n                //     'value': '/assets/1.jpeg',\n\t\t\t\t// \t'interactive': true,\n                // },\n            ],\n\t\t\timage_meta_info:{},\n\t\t\tiswaiting: false,\n\t\t\tiserror: false,\n\t\t\terror_message: ''\n        }\n    },\n    mounted: function(){\n        var _this = this;\n        _this.axios.get('/antgo/api/demo/query_config/').then(function(res){\n            _this.input_info = res.data['input']\n\t\t\t_this.title = res.data['title']\n\t\t\t_this.description = res.data['description']\n        }).catch(function(error){\n            // do nothing\n            console.log(error)\n        })\n    },\n    methods:{\n        uploadfile: function(input_i){\n            // 1.step 修改数据状态\n            this.input_info[input_i]['status'] = 'uploading'\n\n            // 2.step 上传\n            var formData = new FormData();\t\t\t\t\t\t\t\t\t\t\t//新建表单对象\n                formData.append(\"file\",this.input_info[input_i].value);\t\t\t\t//把文件对象添加到表单对象里\n                formData.append(\"filename\", this.input_info[input_i].value.name);\t//把文件名称添加到表单对象里\n\n            var _this = this;\n            // 此时可以自行将文件上传至服务器\n            _this.axios.post(\"/antgo/api/demo/upload/\",formData).then((res) => {\n                _this.input_info[input_i]['status'] = 'finish';\n                _this.$forceUpdate()\n            })\n        },\n        submit: function(){\n            this.iswaiting = true;\n\t\t\tthis.iserror = false;\n\t\t\tvar query_info = {\n\t\t\t\t'input': [],\n\t\t\t\t'element': []\n\t\t\t}\n\t\t\t\n            for(var index in this.input_info){\n                if(this.input_info[index]['type'] == 'image' || this.input_info[index]['type'] == 'video'){\n                    // file id\n                    query_info['input'].push(this.input_info[index]['value'].name)\n                }\n                else{\n                    query_info['input'].push(this.input_info[index]['value'])\n                }\n            }\n\n\t\t\tfor(let o in Object.keys(this.image_meta_info)){\n\t\t\t\tlet key = Object.keys(this.image_meta_info)[o];\n\t\t\t\tvar label_info_result = []\n\t\t\t\tvar features = this.image_meta_info[key]['feature_layer'].getAllFeatures();\n\t\t\t\tfor(var f in features){\n\t\t\t\t\tif (features[f].type == 'RECT'){\n\t\t\t\t\t\tvar width = features[f].shape.width;\n\t\t\t\t\t\tvar height = features[f].shape.height;\n\t\t\t\t\t\tvar x = features[f].shape.x;\n\t\t\t\t\t\tvar y = features[f].shape.y;\n\t\t\t\t\t\tlabel_info_result.push({\n\t\t\t\t\t\t\t'data': [x,y,x+width,y+height],\n\t\t\t\t\t\t\t'type': 'RECT',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\telse if(features[f].type == 'POINT'){\n\t\t\t\t\t\tlabel_info_result.push({\n\t\t\t\t\t\t\t'data': [features[f].shape.x,features[f].shape.y],\n\t\t\t\t\t\t\t'type': 'POINT',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\telse if(features[f].type == 'POLYGON'){\n\t\t\t\t\t\tvar polygon_points = [];\n\t\t\t\t\t\tfor(var point_i in features[f].shape.points){\n\t\t\t\t\t\t\tpolygon_points.push(\n\t\t\t\t\t\t\t\t[features[f].shape.points[point_i].x, features[f].shape.points[point_i].y]\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlabel_info_result.push({\n\t\t\t\t\t\t\t'data': polygon_points,\n\t\t\t\t\t\t\t'type': 'POLYGON',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\telse if(features[f].type == 'LINE'){\n\t\t\t\t\t\tlabel_info_result.push({\n\t\t\t\t\t\t\t'data':[\n\t\t\t\t\t\t\t\t[features[f]['shape']['start'].x, features[f]['shape']['start'].y],\n\t\t\t\t\t\t\t\t[features[f]['shape']['end'].x, features[f]['shape']['end'].y]],\n\t\t\t\t\t\t\t'type': 'LINE',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tquery_info['element'].push({\n\t\t\t\t\t'name': key,\t\t\t\t\t\t\t\t// 绑定的图像ID\n\t\t\t\t\t'value': label_info_result,\t\t\t\t\t// 交互数据\n\t\t\t\t\t'mode': this.image_meta_info[key]['mode']\t// 交互模式\n\t\t\t\t})\n\t\t\t}\n\n            var _this = this;\n            let params = new FormData();  \n            params.append('query', JSON.stringify(query_info))\n\n            _this.axios.post(\n                '/antgo/api/demo/submit/',\n                params\n            ).then(function(res){\n\t\t\t\t// 如果请求中，包含交互元素；则判断是否已经创建对应图像是否绑定交互\n\t\t\t\t_this.output_info = res.data;\t\t\t\n\t\t\t\t_this.iswaiting = false;\n\t\t\t\t_this.$nextTick(()=>{\n\t\t\t\t\tfor(let index in res.data){\n\t\t\t\t\t\tvar name = res.data[index]['name'];\n\t\t\t\t\t\tif(res.data[index]['type'] == 'image'){\n\t\t\t\t\t\t\tif(!(name in _this.image_meta_info) && res.data[index]['interactive']){\n\t\t\t\t\t\t\t\t// 绑定交互功能 (新创建)\n\t\t\t\t\t\t\t\t_this.initMap(\n\t\t\t\t\t\t\t\t\tres.data[index]['name'], \n\t\t\t\t\t\t\t\t\tres.data[index]['value'], \n\t\t\t\t\t\t\t\t\tres.data[index]['height'], \n\t\t\t\t\t\t\t\t\tres.data[index]['width']\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t_this.setMode(res.data[index]['name'], res.data[index]['element']['mode'], res.data[index]['element']['num']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if((name in _this.image_meta_info) && res.data[index]['interactive']){\n\t\t\t\t\t\t\t\tvar existed_features = _this.image_meta_info[name]['feature_layer'].getAllFeatures();\n\t\t\t\t\t\t\t\t_this.initMap(\n\t\t\t\t\t\t\t\t\tres.data[index]['name'], \n\t\t\t\t\t\t\t\t\tres.data[index]['value'], \n\t\t\t\t\t\t\t\t\tres.data[index]['height'], \n\t\t\t\t\t\t\t\t\tres.data[index]['width']\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t_this.setMode(res.data[index]['name'], res.data[index]['element']['mode'], res.data[index]['element']['num']);\n\t\t\t\t\t\t\t\tfor(var i in existed_features){\n\t\t\t\t\t\t\t\t\t_this.image_meta_info[name]['feature_layer'].addFeature(existed_features[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n            }).catch(function(error) {\n\t\t\t\t_this.iserror = true;\n\t\t\t\t_this.error_message = '['+error.response.status.toString()+']:'+error.response.data.detail\n\t\t\t}).finally(function() {\n\t\t\t});\n        },\n\t\tinitMap: function(image_name, image_src, height, width){\n\t\t\tvar _this = this;\n            // npm i ailabel\n\t\t\tconst gMap = new AILabel.Map(image_name, {\n\t\t\t\tcenter: {x: 100, y: 100}, \t\t// 为了让图片居中\n\t\t\t\tzoom: 1000,\n\t\t\t\tmode: \"ban\", \t\t\t\t\t// PAN 可以平移和放大缩小   ban  可以平移 \n\t\t\t\trefreshDelayWhenZooming: true, \t// 缩放时是否允许刷新延时，性能更优\n\t\t\t\tzoomWhenDrawing: true,\n\t\t\t\tpanWhenDrawing: false,\n\t\t\t\tzoomWheelRatio: 5,      \t\t// 控制滑轮缩放缩率[0, 10), 值越小，则缩放越快，反之越慢\n\t\t\t\twithHotKeys: false       \t\t// 关闭快捷键\n\t\t\t});\n\n\t\t\t// 图片层添加\n\t\t\tconst gFirstImageLayer = new AILabel.Layer.Image(\n\t\t\t\t\"layer-image\", // id\n\t\t\t\t{\n\t\t\t\t\tsrc: image_src,\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: height,\n\t\t\t\t\tcrossOrigin: false, // 如果跨域图片，需要设置为true\n\t\t\t\t\tposition: { // 左上角相对中心点偏移量\n\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\ty: 0\n\t\t\t\t\t},\n\t\t\t\t}, // imageInfo\n\t\t\t\t{name: \"图像层\"}, // props\n\t\t\t\t{zIndex: 5} // 这里写样式 层级\n\t\t\t);\n\n\t\t\t// click单击事件 这里可以直接修改单击触发 比如如果没触发可以直接把事件放进来写成单击一个点渲染\n\t\t\tgMap.events.on(\"click\", point => {\n\t\t\t\tconsole.log(\"--click--\", point);\n\t\t\t});\n\t\t\tgMap.events.on(\"drawDone\", (type, data, data1) => {\n\t\t\t\t// 限制绘制个数\n\t\t\t\tif(_this.image_meta_info[image_name]['feature_layer'].features.length >= _this.image_meta_info[image_name]['num']){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (type === \"POINT\") {\n\t\t\t\t\tdata['sr'] = 5;\n\t\t\t\t\tconst pointFeature = new AILabel.Feature.Point(\n\t\t\t\t\t\t`${+new Date()}`, // id\n\t\t\t\t\t\tdata, // shape\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"point\", \n\t\t\t\t\t\t}, // prop\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfillStyle: \"#3CB371\", \n\t\t\t\t\t\t} // style\n\t\t\t\t\t);\n\t\t\t\t\t_this.image_meta_info[image_name]['feature_layer'].addFeature(pointFeature);\n\t\t\t\t}\n\t\t\t\telse if (type === \"LINE\") {\n\t\t\t\t\tconst scale = gMap.getScale();\n\t\t\t\t\tconst width = 1 / scale;\n\t\t\t\t\tconst lineFeature = new AILabel.Feature.Line(\n\t\t\t\t\t\t`${+new Date()}`, // id\n\t\t\t\t\t\t{...data, width}, // shape\n\t\t\t\t\t\t{name: \"line\"}, // props\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfillStyle: \"rgba(255,255,255,0.5)\", \n\t\t\t\t\t\t\tstrokeStyle: \"#3CB371\", \n\t\t\t\t\t\t\tlineWidth: 2,\n\t\t\t\t\t\t\tfill: true,\n\t\t\t\t\t\t} // style\n\t\t\t\t\t);\n\t\t\t\t\t_this.image_meta_info[image_name]['feature_layer'].addFeature(lineFeature);\n\t\t\t\t}\n\t\t\t\telse if (type === \"RECT\") {\n\t\t\t\t\tconst rectFeature = new AILabel.Feature.Rect(\n\t\t\t\t\t\t`${+new Date()}`,      // id\n\t\t\t\t\t\tdata,                  // shape\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"rect\", \n\t\t\t\t\t\t},     // props\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfillStyle: \"rgba(255,255,255,0.5)\", \n\t\t\t\t\t\t\tstrokeStyle: \"#3CB371\", \n\t\t\t\t\t\t\tlineWidth: 2,\n\t\t\t\t\t\t\tfill: true,\n\t\t\t\t\t\t} // style\n\t\t\t\t\t);\n\t\t\t\t\t_this.image_meta_info[image_name]['feature_layer'].addFeature(rectFeature);\n\t\t\t\t}\n\t\t\t\telse if (type === \"POLYGON\") {\n\t\t\t\t\tconst polygonFeature = new AILabel.Feature.Polygon(\n\t\t\t\t\t\t`${+new Date()}`, // id\n\t\t\t\t\t\t{points: data}, // shape\n\t\t\t\t\t\t{                                   \n\t\t\t\t\t\t\tname: \"polygon\", \n\t\t\t\t\t\t}, // props\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfillStyle: \"rgba(255,255,255,0.5)\",\n\t\t\t\t\t\t\tstrokeStyle: \"#3CB371\", \n\t\t\t\t\t\t\tlineWidth: 2, \n\t\t\t\t\t\t\tfill: true,\n\t\t\t\t\t\t} // style\n\t\t\t\t\t);         \n\t\t\t\t\t_this.image_meta_info[image_name]['feature_layer'].addFeature(polygonFeature);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// 视野范围发生变化\n\t\t\tgMap.events.on(\"boundsChanged\", data => {\n\t\t\t\tconsole.log(\"--map boundsChanged--\");\n\t\t\t});\n\t\t\t// 在绘制模式下双击feature触发选中\n\t\t\tgMap.events.on(\"featureSelected\", feature => {\n\t\t\t\t// 双击触发删除\n\t\t\t\t_this.image_meta_info[image_name]['feature_layer'].removeFeatureById(feature.id)\n\t\t\t});\n\t\t\tgMap.events.on(\"featureUnselected\", () => {\n\t\t\t\t// 取消featureSelected\n\t\t\t\tgMap.setActiveFeature(null);\n\t\t\t});\n\t\t\tgMap.events.on(\"featureUpdated\", (feature, shape) => {\n\t\t\t\tconsole.log('feature updated')\n\t\t\t});\n\t\t\tgMap.events.on(\"featureDeleted\", ({id: featureId}) => {\n\t\t\t\tconsole.log('feature delete')\n\t\t\t});     \n            \n\t\t\t// 添加到gMap对象\n\t\t\tgMap.addLayer(gFirstImageLayer);\n\n\t\t\tconst gFirstFeatureLayer = new AILabel.Layer.Feature(\n\t\t\t\t\"first-layer-feature\", // id\n\t\t\t\t{name: \"绘制层\"}, // props\n\t\t\t\t{zIndex: 10} // style\n\t\t\t);\n\t\t\tgMap.addLayer(gFirstFeatureLayer);\n\n\t\t\t_this.image_meta_info[image_name] = {}\n\t\t\t_this.image_meta_info[image_name]['gmap'] = gMap;\n\t\t\t_this.image_meta_info[image_name]['image_layer'] = gFirstImageLayer;\n\t\t\t_this.image_meta_info[image_name]['feature_layer'] = gFirstFeatureLayer;\n\t\t\t_this.image_meta_info[image_name]['mode'] = ''\n\t\t},\n\t\tsetMode: function(image_name, mode, num) {\n                this.image_meta_info[image_name]['gmap'].setMode(mode);\n\t\t\t\tthis.image_meta_info[image_name]['mode'] = mode;\n\t\t\t\tthis.image_meta_info[image_name]['num'] = num;\n\n                // 后续对应模式处理\n\t\t\t\tvar drawingStyle;\n                switch (mode) {\n                    case \"POINT\": {\n                        drawingStyle = {fillStyle: \"#9370DB\", strokeStyle:\"#f00\"};\n                        this.image_meta_info[image_name]['gmap'].setDrawingStyle(drawingStyle);\n                        break;\n                    }\n                    case \"LINE\": {\n                        drawingStyle = {strokeStyle: \"#FF0000\", lineJoin: \"round\", lineCap: \"round\", lineWidth: 5, arrow: false};\n                        this.image_meta_info[image_name]['gmap'].setDrawingStyle(drawingStyle);\n                        break;\n                    }\n                    case \"POLYLINE\": {\n                        drawingStyle = {strokeStyle: \"#FF1493\", lineJoin: \"round\", lineCap: \"round\", lineWidth: 1}\n                        this.image_meta_info[image_name]['gmap'].setDrawingStyle(drawingStyle);\n                        break;\n                    }\n                    case \"RECT\": {\n                        drawingStyle = {strokeStyle: \"#f00\", lineWidth: 1}\n                        this.image_meta_info[image_name]['gmap'].setDrawingStyle(drawingStyle);\n                        break;\n                    }\n                    case \"POLYGON\": {\n                        drawingStyle = {strokeStyle: \"#00f\", fillStyle: \"#0f0\", globalAlpha: .3, lineWidth: 1, fill: true, stroke: true}\n                        this.image_meta_info[image_name]['gmap'].setDrawingStyle(drawingStyle);\n                        break;\n                    }\n                    case \"TEXT\": {\n                        drawingStyle = {fillStyle: \"#00f\", lineWidth: 30}\n                        this.image_meta_info[image_name]['gmap'].setDrawingStyle(drawingStyle);\n                        break;\n                    }\n                    default:\n                        break;\n                }\n        },\n    }\n}\n</script>\n\n<style scoped>\n@keyframes count {\n    to {\n        --t: 300\n    }\n}\n@keyframes shark {\n    0%{\n        opacity: 1;\n        transform: scale(1);\n    }\n    \n    50%{\n        opacity: 0;\n        transform: scale(0.4);\n    }\n}\n@property --t { \n    syntax: '<integer>';\n    inherits: false;\n    initial-value: 0;\n}\ncount-down::after{\n    --t: 0;\n    counter-reset: time var(--t);\n    content: counter(time) 's';\n    animation: count 300s steps(300) forwards, shark 1s 300;\n\t/* animation: count 300s forwards; */\n}\ncount-down{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-family: Consolas, Monaco, monospace;\n    font-size: 120px;\n}\n</style>","import mod from \"-!../../node_modules/.store/thread-loader@3.0.4/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Demo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.store/thread-loader@3.0.4/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Demo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Demo.vue?vue&type=template&id=654a457f&scoped=true\"\nimport script from \"./Demo.vue?vue&type=script&lang=js\"\nexport * from \"./Demo.vue?vue&type=script&lang=js\"\nimport style0 from \"./Demo.vue?vue&type=style&index=0&id=654a457f&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"654a457f\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","attrs","title","description","staticClass","_l","input_info","input","input_i","key","_v","_s","Boolean","on","$event","uploadfile","model","value","callback","$$v","$set","expression","name","_e","iserror","error_message","iswaiting","output_info","output","output_i","submit","staticRenderFns","data","image_meta_info","mounted","_this","axios","get","then","res","catch","error","console","log","methods","formData","FormData","append","post","$forceUpdate","query_info","index","push","o","Object","keys","label_info_result","features","getAllFeatures","f","type","width","shape","height","x","y","polygon_points","point_i","points","params","JSON","stringify","$nextTick","initMap","setMode","existed_features","i","addFeature","response","status","toString","detail","finally","image_name","image_src","gMap","AILabel","center","zoom","mode","refreshDelayWhenZooming","zoomWhenDrawing","panWhenDrawing","zoomWheelRatio","withHotKeys","gFirstImageLayer","Image","src","crossOrigin","position","zIndex","events","point","data1","length","pointFeature","Point","Date","fillStyle","scale","getScale","lineFeature","Line","strokeStyle","lineWidth","fill","rectFeature","Rect","polygonFeature","Polygon","feature","removeFeatureById","id","setActiveFeature","featureId","addLayer","gFirstFeatureLayer","Feature","num","drawingStyle","setDrawingStyle","lineJoin","lineCap","arrow","globalAlpha","stroke","component"],"sourceRoot":""}