{"version":3,"file":"js/392.1889e451.js","mappings":"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","sources":["webpack://antgo-web/./src/components/Demo.vue","webpack://antgo-web/src/components/Demo.vue","webpack://antgo-web/./src/components/Demo.vue?f062","webpack://antgo-web/./src/components/Demo.vue?be38"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-container',{staticStyle:{\"margin-top\":\"30px\"}},[_c('b-row',[_c('b-col',[_c('b-container',_vm._l((_vm.input_info),function(input,input_i){return _c('b-row',{key:input_i},[(input['type'] == 'image')?_c('b-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('h5',[_vm._v(_vm._s(input['name']))]),_c('b-form-file',{attrs:{\"state\":Boolean(input['status'] == 'finish'),\"placeholder\":\"拖拽文件至此...\",\"drop-placeholder\":\"Drop file here...\",\"accept\":\".jpg, .png, .jpeg\"},on:{\"input\":function($event){return _vm.uploadfile(input_i)}},model:{value:(input['value']),callback:function ($$v) {_vm.$set(input, 'value', $$v)},expression:\"input['value']\"}}),_c('div',{staticClass:\"mt-3\"},[_vm._v(\"上传文件: \"+_vm._s(input['status']=='finish' ? input['value'].name + ' 完成': ''))])],1):_vm._e(),(input['type'] == 'video')?_c('b-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('b-form-file',{attrs:{\"state\":Boolean(input['status'] == 'finish'),\"placeholder\":\"拖拽文件至此...\",\"drop-placeholder\":\"Drop file here...\",\"accept\":\".jpg, .png, .jpeg\"},on:{\"input\":function($event){return _vm.uploadfile(input_i)}},model:{value:(input['value']),callback:function ($$v) {_vm.$set(input, 'value', $$v)},expression:\"input['value']\"}}),_c('div',{staticClass:\"mt-3\"},[_vm._v(\"上传文件: \"+_vm._s(input['status']=='finish' ? input['value'].name + ' 完成' : ''))])],1):_vm._e(),(input['type'] == 'text')?_c('b-col',[_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":input['name']}},[_c('b-form-input',{model:{value:(input['value']),callback:function ($$v) {_vm.$set(input, 'value', $$v)},expression:\"input['value']\"}})],1)],1):_vm._e(),(input['type'] == 'number')?_c('b-col',[_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":input['name']}},[_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(input['value']),callback:function ($$v) {_vm.$set(input, 'value', $$v)},expression:\"input['value']\"}})],1)],1):_vm._e()],1)}),1)],1),_c('b-col',[_c('b-container',_vm._l((_vm.output_info),function(output,output_i){return _c('b-row',{key:output_i},[(output['type'] == 'image')?_c('b-col',{staticStyle:{\"margin-top\":\"20px\"}},[_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('h5',[_vm._v(_vm._s(output['name']))]),_c('b-img',{attrs:{\"src\":output['value']}})],1)]):_vm._e(),(output['type'] == 'text')?_c('b-col',[_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":output['name']}},[_c('b-form-input',{model:{value:(output['value']),callback:function ($$v) {_vm.$set(output, 'value', $$v)},expression:\"output['value']\"}})],1)],1):_vm._e(),(output['type'] == 'number')?_c('b-col',[_c('b-input-group',{staticClass:\"mt-3\",attrs:{\"prepend\":output['name']}},[_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(output['value']),callback:function ($$v) {_vm.$set(output, 'value', $$v)},expression:\"output['value']\"}})],1)],1):_vm._e()],1)}),1)],1)],1),_c('b-row',{staticStyle:{\"margin-top\":\"50px\"}},[_c('b-button',{staticStyle:{\"width\":\"100px\"},attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"提交\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <b-container style=\"margin-top: 30px\">\n    <b-row>\n        <!-- left is about input content -->\n        <b-col>\n            <b-container>\n                <b-row v-for=\"(input, input_i) in input_info\" :key=\"input_i\">\n                    <b-col v-if=\"input['type'] == 'image'\" style=\"margin-top: 20px\">\n                    <h5>{{input['name']}}</h5>\n                    <b-form-file\n                        v-model=\"input['value']\"\n                        :state=\"Boolean(input['status'] == 'finish')\"\n                        placeholder=\"拖拽文件至此...\"\n                        drop-placeholder=\"Drop file here...\"\n                        accept=\".jpg, .png, .jpeg\"\n                        @input=\"uploadfile(input_i)\"\n                    ></b-form-file>\n                    <div class=\"mt-3\">上传文件: {{ input['status']=='finish' ? input['value'].name + ' 完成': '' }}</div>\n\n                    </b-col>\n\n                    <b-col v-if=\"input['type'] == 'video'\" style=\"margin-top: 20px\">\n                    <b-form-file\n                        v-model=\"input['value']\"\n                        :state=\"Boolean(input['status'] == 'finish')\"\n                        placeholder=\"拖拽文件至此...\"\n                        drop-placeholder=\"Drop file here...\"\n                        accept=\".jpg, .png, .jpeg\"\n                        @input=\"uploadfile(input_i)\"\n                    ></b-form-file>\n                    <div class=\"mt-3\">上传文件: {{ input['status']=='finish' ? input['value'].name + ' 完成' : '' }}</div>\n\n                    </b-col>\n                    <b-col v-if=\"input['type'] == 'text'\">\n                    <b-input-group :prepend=\"input['name']\" class=\"mt-3\">\n                        <b-form-input v-model=\"input['value']\"></b-form-input>\n                    </b-input-group>                        \n                    </b-col>\n                    <b-col v-if=\"input['type'] == 'number'\">\n\n                    <b-input-group :prepend=\"input['name']\" class=\"mt-3\">\n                        <b-form-input type=\"number\" v-model=\"input['value']\"></b-form-input>\n                    </b-input-group>      \n                    </b-col>\n                </b-row>\n            </b-container>\n        </b-col>\n\n        <!-- right is about output content -->\n        <b-col>\n            <b-container>\n                <b-row v-for=\"(output, output_i) in output_info\" :key=\"output_i\">\n                    <b-col v-if=\"output['type'] == 'image'\" style=\"margin-top: 20px\">\n                    <div style=\"margin-top: 20px\">\n                        <h5>{{output['name']}}</h5>\n                        <b-img :src=\"output['value']\"></b-img>\n                    </div>                        \n                    </b-col>\n                    <b-col v-if=\"output['type'] == 'text'\">\n                        <b-input-group :prepend=\"output['name']\" class=\"mt-3\">\n                            <b-form-input v-model=\"output['value']\"></b-form-input>\n                        </b-input-group>      \n                    </b-col>\n                    <b-col v-if=\"output['type'] == 'number'\">\n                        <b-input-group :prepend=\"output['name']\" class=\"mt-3\">\n                            <b-form-input type=\"number\" v-model=\"output['value']\"></b-form-input>\n                        </b-input-group>                          \n                    </b-col>\n                </b-row>\n            </b-container>\n        </b-col>\n    </b-row>\n    <b-row style=\"margin-top: 50px\">\n        <b-button  variant=\"primary\" style=\"width:100px\" @click=\"submit()\">提交</b-button>\n    </b-row>\n    </b-container>\n</template>\n\n<script>\nexport default{\n    name: 'Demo',\n    data(){\n        return {\n            input_info: [\n                // {\n                //     'type': 'text', // text, number, image, video, \n                //     'name': 'hello',\n                //     'value': 'w'\n                // },\n                // {\n                //     'type': 'number',\n                //     'name': 'world',\n                //     'value': 0\n                // },\n                // {\n                //     'type': 'image',\n                //     'name': '',\n                //     'value': '',\n                //     'status': 'default', // default, uploading, finish\n                // },\n                // {\n                //     'type': 'video',        \n                //     'name': '',\n                //     'value': '',            \n                //     'status': 'defalut'\n                // }\n            ],\n            output_info: [\n                // {\n                //     'type': 'text', // text, number, image, video, file\n                //     'name': 'hh',\n                //     'value': 'bb'\n                // },\n                // {\n                //     'type': 'number',\n                //     'name': 'world',\n                //     'value': 0\n                // },\n                // {\n                //     'type': 'image',\n                //     'name': '/static/1.png',\n                //     'value': '/assets/1.jpeg',\n                // },\n            ]\n        }\n    },\n    mounted: function(){\n        var _this = this;\n        _this.axios.get('/antgo/api/demo/query_config/').then(function(res){\n            // _this.samples = res.data.content['value'];\n            // _this.index = res.data.content['step'];\n            // _this.tags = res.data.content['tags'];\n            // _this.samples_num = res.data.content['samples_num'];\n            _this.input_info = res.data\n        }).catch(function(error){\n            // do nothing\n            console.log(error)\n        })\n\n    },\n    methods:{\n        uploadfile: function(input_i){\n            // 1.step 修改数据状态\n            this.input_info[input_i]['status'] = 'uploading'\n\n            // 2.step 上传\n            var formData = new FormData();//新建表单对象\n                formData.append(\"file\",this.input_info[input_i].value);//把文件对象添加到表单对象里\n                formData.append(\"filename\", this.input_info[input_i].value.name);//把文件名称添加到表单对象里\n\n\n            var _this = this;\n            // 此时可以自行将文件上传至服务器\n            _this.axios.post(\"/antgo/api/demo/upload/\",formData).then((res) => {\n                _this.input_info[input_i]['status'] = 'finish';\n                _this.$forceUpdate()\n            })\n        },\n        submit: function(){\n            var query_info = []\n            for(var index in this.input_info){\n                if(this.input_info[index]['type'] == 'image' || this.input_info[index]['type'] == 'video'){\n                    // file id\n                    query_info.push(this.input_info[index]['value'].name)\n                }\n                else{\n                    query_info.push(this.input_info[index]['value'])\n                }\n            }\n\n            var _this = this;\n            let params = new FormData();  \n            params.append('query', JSON.stringify(query_info))\n\n            _this.axios.post(\n                '/antgo/api/demo/submit/',\n                params\n            ).then(function(res){\n                // query 成功，获得返回并显示\n                _this.output_info = res.data;\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Demo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Demo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Demo.vue?vue&type=template&id=01d5741c&scoped=true&\"\nimport script from \"./Demo.vue?vue&type=script&lang=js&\"\nexport * from \"./Demo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01d5741c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","_l","input_info","input","input_i","key","_v","_s","attrs","Boolean","on","$event","uploadfile","model","value","callback","$$v","$set","expression","staticClass","name","_e","output_info","output","output_i","submit","staticRenderFns","data","mounted","_this","catch","console","methods","formData","query_info","params","then","component"],"sourceRoot":""}